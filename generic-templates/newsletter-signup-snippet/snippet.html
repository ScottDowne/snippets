{#
Signup snippet.

Variables:

  @text: main text - Text of snippet. Use <em> to hightlight text.
  @icon: image - Optional. Snippet icon. 64x64px. SVG or PNG preferred.
  @button_label: Required. Text for signup button.
  @highlight_color: Optional. Defaults to #FFF8D0.

  @locale: Default en-US. String for the locale code.

  @firstname_placeholder: Placeholder message for firstname input.
  @email_placeholder: Placeholder message for email input.
  @country_placeholder: Placeholder message for country input.
  @privacy_policy: Privacy policy message.

  @basket_host: Default https://basket.mozilla.org. Where to send basket signups.
  @newsletters: Basket newsletter.
  @success_message: Signup success message.
  @error_message: Signup error message.

  @blockable: checkbox - Check to allow user to block this snippet.
  @block_button_text - small text - Text to display while hovering over opt out button. Default "Remove this"

#}
<style>
  #snippetContainer div.snippet img.icon {
    margin: 0 8px 0 0;
    float: none;
  }

  .snippet p {
    padding-left: 0;
    width: 100%;
  }

  #signup-snippet {
    font-family: "Helvetica Neue", "Helvetica", "Arial", sans-serif;
    margin-top: 6px;
  }

  @font-face {
    font-family: "fontello-{{ snippet_id }}";
    src: url(data:application/font-woff;base64,d09GRgABAAAAAAswAA8AAAAAE+gAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABWAAAADsAAABUIIwleU9TLzIAAAGUAAAAQwAAAFY+IEi5Y21hcAAAAdgAAABQAAABfohD7KljdnQgAAACKAAAABMAAAAgBtX/BGZwZ20AAAI8AAAFkAAAC3CKkZBZZ2FzcAAAB8wAAAAIAAAACAAAABBnbHlmAAAH1AAAALsAAAD+S//bfWhlYWQAAAiQAAAAMAAAADYLvjlZaGhlYQAACMAAAAAbAAAAJAc8A1ZobXR4AAAI3AAAAAwAAAAMCXwAAGxvY2EAAAjoAAAACAAAAAgAQAB/bWF4cAAACPAAAAAgAAAAIACmC5tuYW1lAAAJEAAAAXcAAALNzJ0cHnBvc3QAAAqIAAAAKwAAAEC6/SLgcHJlcAAACrQAAAB6AAAAhuVBK7x4nGNgZGBg4GIwYLBjYMpJLMlj4HNx8wlhkGJgYYAAkDwymzEnMz2RgQPGA8qxgGkOIGaDiAIAKVkFSAB4nGNgZNZknMDAysDAVMW0h4GBoQdCMz5gMGRkAooysDIzYAUBaa4pDA4vGF4wMgf9z2KIYg5imAYUZgTJAQDMhAtXAHic7ZCxDYAwDATPiaFAjEFBwTBU7F+yRfK2GYOX7qR/uTKwAF1cwsEejMit1XLvbLk7R9547K+NIRNW93STVv7s6fNrLf5U1OcK2gTMuAtdeJxjYEADEhDIHPQ/C4QBEmwD3QB4nK1WaXfTRhQdeUmchCwlCy1qYcTEabBGJmzBgAlBsmMgXZytlaCLFDvpvvGJ3+Bf82Tac+g3flrvGy8kkLTncJqTo3fnzdXM22USWpLYC+uRlJsvxdTWJo3sPAnphk3LUXwoO3shZYrJ3wVREK2W2rcdh0REIlC1rrBEEPseWZpkfOhRRsu2pFdNyi096S5b40G9Vd9+GjrKsTuhpGYzdGg9siVVGFWiSKY9UtKmZaj6K0krvL/CzFfNUMKITiJpvBnG0EjeG2e0ymg1tuMoimyy3ChSJJrhQRR5lNUS5+SKCQzKB82Q8sqnEeXD/Iis2KOcVrBLttP8vi95p3c5P7Ffb1G25EAfyI7s4Ox0JV+EW1th3LST7ShUEXbXd0Js2exU/2aP8ppGA7crMr3QjGCpfIUQKz+hzP4hWS2cT/mSR6NaspETQetlTuxLPoHW44gpcc0YWdDd0QkR1P2SMwz2mD4e/PHeKZYLEwJ4HMt6RyWcCBMpYXM0SdowcmAlZYsqqfWumDjldVrEW8J+7drRl85o41B3YjxbDx1bOVHJ8WhSp5lMndpJzaMpDaKUdCZ4zK8DKD+iSV5tYzWJlUfTOGbGhEQiAi3cS1NBLDuxpCkEzaMZvbkbprl2LVqkyQP13KP39OZWuLnTU9oO9LNGf1anYjrYC9PpaeQv8Wna5SJF6frpGX5M4kHWAjKRLTbDlIMHb/0O0svXlhyF1wbY7u3zK6h91kTwpAH7G9AeT9UpCUyFmFWIVkBirWtZlsnVrBapyNR3Q5pWvqzTBIpyHBfHvoxx/V8zM5aYEr7fidOzIy49c+1LCNMcfJt1PZrXqcVyAXFmeU6nWZbv6zTH8gOd5lme1+kIS1unoyw/1GmB5Uc6HWN5QQuadN/BkIsw5AIOkDCEpQNDWF6CISwVDGG5CENYFmEIyyUYwvJjGMJyGYawvKxl1dRTSePamVgGbEJgYo4eucxF5WoquVRCu2hUakOeEm6VVBTPqn9loF488oY5sBZIl8iaXzHOlY9G5fjWFS1vGjtXwLHqbx+O9jnxUtaLhT8F/9XWVCW9Ys3Dk6vwG4aebCeqNql4dE2Xz1U9uv5fVFRYC/QbSIVYKMqybHBnIoSPOp2GaqCVQ8xszDy063XLmp/D/TcxQhZQ/fg3FBoL3INOWUlZ7eCs1dfbstw7g3I4EyxJMTfz+lb4IiOz0n6RWcqej3wecAWMSmXYagOtFbzZJzEPmd4kzwRxW1E2SNrYzgSJDRzzgHnznQQmYeqqDeRO4YYN+AVhbsF5J1yieqMsh+5F7PMopPxbp+JE9qhojMCz2Rthr+9Cym9xDCQ0+aV+DFQVoakYNRXQNFJuqAZfxtm6bULGDvQjKnbDsqziw8cW95WSbRmEfKSI1aOjn9Zeok6q3H5mFJfvnb4FwSA1MX9733RxkMq7WskyR20DU7calVPXmkPjVYfq5lH1vePsEzlrmm66Jx56X9Oq28HFXCyw9m0O0lImF9T1YYUNosvFpVDqZTRJ77gHGBYY0O9Qio3/q/rYfJ4rVYXRcSTfTtS30edgDPwP2H9H9QPQ92Pocg0uz/eaE59u9OFsma6iF+un6Dcwa625WboG3NB0A+IhR62OuMoNfKcGcXqkuRzpIeBj3RXiAcAmgMXgE921jOZTAKP5jDk+wOfMYdBkDoMt5jDYZs4awA5zGOwyh8Eecxh8wZx1gC+ZwyBkDoOIOQyeMCcAeMocBl8xh8HXzGHwDXPuA3zLHAYxcxgkzGGwr+nWMMwtXtBdoLZBVaADU09Y3MPiUFNlyP6OF4b9vUHM/sEgpv6o6faQ+hMvDPVng5j6i0FM/VXTnSH1N14Y6u8GMfUPg5j6TL8Yy2UGv4x8lwoHlF1sPufvifcP28VAuQABAAH//wAPeJxjYGRg+H+AqYTZhUGEQXcrJyMDI6O79waVgAgHbgYGRoYCIJ+H0VPagRPIYcxnYGBIi9wiI8TEKqbNycimpM+oZmLOCSTsGc2MxBnFRJiy/iVxy3DHcnMzavy7wc0dyyXHxTiPizHzXyIXVyxQhlGTUQOiAKQQZAXI/hlQ+xmJsl9cHGw/k5gIP9AN6iA3AK2XB1nf9+86oybEJqD53ECr5bhiuZhW/bvx7zqYycU4H+wksNMAybYuhAB4nGNgZGBgAGL51HdP4/ltvjJwM78AijBcia7agaD/H2B+wewC5HIwMIFEAWkCDKx4nGNgZGBgDvqfBSRfMDCASUYGVMAMAFz3A5oAA+gAAALKAAACygAAAAAAAABAAH8AAQAAAAMAFQABAAAAAAACAAQAFABzAAAAKgtwAAAAAHicdZDLTsJAFIb/kYsKiRpN3DorAzGWSyILEhISDGx0QwxbU0ppS0qHTAcSXsN38GF8CZ/Fn3YwBmKb6XznmzNnTgfANb4hkD9PHDkLnDHK+QSn6Fku0D9bLpJfLJdQxZvlMv275QoeEFiu4gYfrCCK54wW+LQscCUuLZ/gQtxZLtA/Wi6Se5ZLuBWvlsv0nuUKJiK1XMW9+Bqo1VZHQWhkbVCX7WarI6dbqaiixI2luzah0qnsy7lKjB/HyvHUcs9jP1jHrt6H+3ni6zRSiWw5zb0a+YmvXePPdtXTTdA2Zi7nWi3l0GbIlVYL3zNOaMyq22j8PQ8DKKywhUbEqwphIFGjrXNuo4kWOqQpMyQz86wICVzENC7W3BFmKynjPsecUULrMyMmO/D4XR75MSng/phV9NHqYTwh7c6IMi/Zl8PuDrNGpCTLdDM7++09xYantWkNd+261FlXEsODGpL3sVtb0Hj0TnYrhraLBt9//u8H42mETwB4nGNgYoAALgbsgJmRiZGZkYWBqygzPaNEN78gNY8zJzUNwmJgAABkcwe2AHicY/DewXAiKGIjI2Nf5AbGnRwMHAzJBRsZWJ02MTAyaIEYm7mYGDkgLD4GMIvNaRfTAaA0J5DN7rSLwQHCZmZw2ajC2BEYscGhI2Ijc4rLRjUQbxdHAwMji0NHckgESEkkEGzmYWLk0drB+L91A0vvRiYGFwAMdiP0AAA=) format("woff");
    font-weight: normal;
    font-style: normal;
  }

  .snippet .icon {
    position: relative;
    right: 0;
    top: 0;
    display: inline-block;
    height: auto;
    max-height: 64px;
    vertical-align: middle;
  }

  .snippet .display-item {
    display: table-cell;
    vertical-align: middle;
  }
  .snippet .display-container {
    display: table;
  }

  .button {
    border-radius: 6px;
    border: none;
    cursor: pointer;
    text-align: center;
    font-size: 16px;
  }

  .hidden {
    display: none !important;
  }

  .basket-error {
    font-size: 14px;
    color: #FF0000;
    padding-left: 25px;
  }

  .snippet p.success-message {
    font-size: 14px;
    width: 420px;
    text-align: center;
    padding-top: 12px;
  }

  .transition-container {
    width: 420px;
    overflow: hidden;
    margin: 12px auto 0 auto;
  }

  .transition-track {
    width: 1680px;
    transition: transform .2s ease-in-out;
    overflow: hidden;
  }

  .transition-item {
    width: 420px;
    float: left;
  }

  .form-input {
    margin-bottom: 0;
    height: 36px;
    color: #4a4a4a;
    font-size: 16px;
    float: left;
    padding: 0 0 0 20px;
    box-sizing: border-box;
    background-color: #fff;
    border-style: solid;
    border-color: #969696;
    box-shadow: none;
    background: #FFFFFF;
  }

  .form-input.invalid {
    border-color: #FF0000;
  }

  .email-input {
    border-radius: 5px 0 0 5px;
    border-width: 1px;
    width: 362px;
  }

  .first-name-input,
  .country-input {
    border-width: 1px;
    width: 324px;
  }

  .privacy-policy {
    font-size: 14px;
    padding-right: 8px;
  }

  .notes-container {
    margin-top: 8px;
    color: #969696;
  }

  .next-button,
  .back-button,
  .final-back-button,
  .submit-button {
    float: left;
    box-sizing: border-box;
    cursor: pointer;
    border: none;
  }

  .submit-button.loading::before {
    visibility: hidden;
  }

  .submit-button::before {
    content: "{{ button_label }}";
  }

  .submit-button.loading::after {
    font-family: fontello-0;
    content: "";
    position: absolute;
    line-height: 0;
    width: 20px;
    height: 20px;
    border-width: 3px;
    border-style: solid;
    border-color: rgba(255, 255, 255, 0.2) rgba(255, 255, 255, 0.2) rgba(255, 255, 255, 0.2) rgb(255, 255, 255);
    -moz-border-top-colors: none;
    -moz-border-right-colors: none;
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    border-image: none;
    border-radius: 50%;
    top: 50%;
    left: 50%;
    margin: -10px 0px 0px -10px;
    box-sizing: border-box;
    animation: 1.5s linear 0s normal none infinite running spin-0;
  }

  .next-button,
  .back-button,
  .final-back-button {
    height: 36px;
  }

  .next-button {
    width: 58px;
    border-radius: 0 5px 5px 0;
    background-color: rgba(255, 255, 255, 0.5);
  }

  .next-button::after {
    content: "";
    background: url("chrome://browser/skin/search-arrow-go.svg#search-arrow-go") no-repeat scroll center center;
    width: 100%;
    height: 100%;
    display: block;
  }

  .next-button:hover::after,
  .form-input:focus + button::after {
    background: url("chrome://browser/skin/search-arrow-go.svg#search-arrow-go-inverted") no-repeat scroll center center;
  }

  .submit-button {
    border-radius: 5px;
    color: #FFFFFF;
    font-size: 16px;
    text-transform: uppercase;
    padding: 6px 20px;
    position: relative;
  }

  .form-input:focus + .next-button,
  .submit-button {
    background-color: #49AFFD;
  }

  .submit-button:hover,
  .next-button:hover,
  .form-input:focus + .next-button:hover {
    background-color: #49AFFD;
    background-image: linear-gradient(rgba(255,255,255,.15),rgba(255,255,255,.15));
  }

  .next-button {
    border-style: solid;
    border-color: #969696;
    border-width: 1px 1px 1px 0;
  }

  .back-button,
  .final-back-button {
    width: 38px;
    border-radius: 5px 0 0 5px;
    border-style: solid;
    border-color: #969696;
    border-width: 1px 0 1px 1px;
  }

  .final-back-button {
    border: none;
    border-radius: 0;
    background: transparent;
  }

  .back-button::before,
  .final-back-button::before {
    font-family: fontello-{{ snippet_id }};
    content: "\e801";
    color: #969696;
  }

  em {
    transition: background 800ms linear;
    font-style: normal;
    box-decoration-break: clone;
    margin: 0px -2px;
    padding: 2px 2px;
    font-weight: bold;
  }

  em.active {
    background: {{ highlight_color|default("#FFE7AC", true) }};
  }


  @-moz-keyframes spin-{{ snippet_id }} {
    from { -moz-transform: rotate(0deg); }
    to { -moz-transform: rotate(360deg); }
  }

  @keyframes spin-{{ snippet_id }} {
    from {transform:rotate(0deg);}
    to {transform:rotate(360deg);}
  }

{% if blockable %}
  .block-snippet-button {
    position: absolute;
    top: 5px;
    right: 5px;
    z-index: 10;
    visibility: hidden;
    height: 20px;
    width: 20px;
    cursor: pointer;
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAeFBMVEUAAAAAAAAAAAABAQEAAAAAAAAAAAAAAAAAAAAAAADDw8OQkJAAAAAAAAAAAAAAAAD9/f38/Pz6+vr5+fnt7e3i4uLd3d3Z2dmgoKBdXV0mJibv7++amprNzc2amprv7+////9zc3OwsLD29vaPj4+xsbHCwsLBwcHrzmRyAAAAIHRSTlMABAg9HhEMNxkir38xLCkV/Pr39OHTzceOYUrliLuJ5ik+KlgAAAGhSURBVEjHnZbrdoIwDIAXWii3UuV+0wV0+v5vOEBH2ajg8v3y6PlO2pgm+TAAYD0B+HgDsBxbuXzCVbZj7VgAju16USjYhAgjz7WdrVjgKC5FHfh5kxwOSZP7QS0kVw68PJLNJQuKIy44FgGT3LbAHMKNWJviirRlkWsKNIQIqwyNZFU4BFobnihjfEFcCm92tMF83MBnfxwYjBNuchocWN6cCx938AVf5MBywxJ3KUPX0seKqnhfiavIhvlYLMM3yNjP0UDJFmcuN/zF7aI/t1I9lCFIqo1r1y+Nr+6qnXQI87iJDJZGNzra6JZOIG2Y0iWK+bt7N9JrY+Q+/1yIKWmOVy9qt3862lgGPdaeM2U4QDQ52tAEY55BhT4aHS1r/FDBeJUcTY7JwHy8jMVZgybHZGDD+KQkuHbMBiZP5YBrx2zggaCQDka5PiHJhL9yq2B6c8FslmVvKsud4u8Nxb/3xPr1E9t9yP3qIf+vXZylAkJTIrQ+QoMltHHCsCCMJMLgo49XPcTPpiF+1kOcsCrsLSSfeiGhrj305Yqwwn0Dwi/I5rQKpwMAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-size: 20px 20px;
    background-color: transparent;
    border: 0;
  }

  .block-snippet-overlay {
    height: 100%;
    width: 100%;
    border-radius: 12px;
    padding: 15px 5px 5px 5px;
    margin-top: -6px;
    margin-left: -5px;
    margin-right: -5px;
    box-sizing: content-box;
  }

  .block-snippet-button:hover ~ .block-snippet-overlay {
    background-color: #eaeaea;
  }

  .block-snippet-button:hover {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAe1BMVEUAAAAAAAAAAAAAAAABAQEAAAAAAAAAAAAAAAABAQEAAACQkJAAAADDw8P9/f38/Pz6+vr5+fni4uLZ2dmgoKCampomJibv7+/d3d3ExMRcXFzt7e3t7e3Nzc0AAABeXl7c3Nzv7+/////DOzLdkYz78/LlqaXPYlveko1iPwM8AAAAInRSTlMACwceOhcRBCo+NH8ir/z69/TTx46ISuXNsGHh4LskYszmffUm0QAAAbBJREFUSMelluuSgjAMRrdtegW84/22AXXf/wlXcNzAGEC755fjeCYfmDb5YrBWihpp7dcbWCmM1qpGa3PX3vh96kIAfwdCcOmAJYVWDpZJdl5NR6Pp6pwlS3BKC9lVQhjlfDIfY4PxPPFOGWE7SjjI9/jCPgfHFpJGhe0MWWbboIx8NVJYTLCDyQLSp0PGETLsIYPj06EaB+zl0K5jhYINDrAB1XhvQocFDrIIWlAst50MK5OtM5JizfANZn/RpHY5fX+5YovrhT7nTj/KCOX3ZNyKsmn8FDdydl6JOpdxSdMoKoeMoukkztg6F8wpRlFRklFBUedQJxPpstG7JTm10S46XqaCcjEOGe1kVocMWYdkIgvaVo+yRs7hDFxXDyMUrJBzOANXoMRd8VNkHTKIqX8oI2QdMohRjBIVLOLxI15yxF/Z1zAl3zC9bVlybTnQ/CXT/ENHrGSO2OMg7zoPcvlykCOui88upXsR+9nVd3JGRlywEdd4xLCIGEnRg4/G66lrvJ6q8coPcZ/vuCHuaYjHrQr8QrKuF5Lv9YYWkqG1Bx5rD9Da87/lKmKF+wUdVNNtsJwP7gAAAABJRU5ErkJggg==");
  }

  .block-snippet-button:active {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAe1BMVEUAAAAAAAAAAAAAAAABAQEAAAABAQEAAAAAAAAAAAD9/f3Dw8MAAAAAAACRkZH6+vr5+fnv7+/i4uLd3d3Z2dmgoKBdXV0mJiYAAAAAAACPj4/t7e3t7e2ampoAAACamprOzs7MzMyYmJj///8QEBB5eXnw8PCWlpZAQEB2Ec74AAAAI3RSTlMABgseOio+GRA0+68iEn/39OXTzceOYUoWFX/h4Igjiby5hsu+k6AAAAGoSURBVEjHnZbpYoIwEISbZEMIl8oNam27eLz/E9YY22DdgmR+efAxGxJ2540SY/wmxog/ycvDVombVBvOY4ynKpFaQ3AVaC0TlXI2CXRCQtPHxWYdRetNEWcNSNFZiHYQMsjKCEeKyiyQwjiRhJKw3+GTdl8gFcWwUOg6R1J5rUXInokEqhX+o1UFiWXGxDvEOKEY3i0z9vjESX08+jAurMe0j+CO4UpXOKtKK/5rksp6NY+sapmyHxMBOb6gHAS/m3Ry734/nfFB55P7vJcdu5sEO0dchuOYOA4Xx2wDwe8r6cfEYBhHDGMms6thCkpXxmB0dISRK7UEZRCeNNHotpYhvhhFTWIqC01dBEMQiL0Mr3W1OkaCIQmMdcvMUgqkGIrAwiyGC9ggxVAEbkBwsytrJBiSwHVgkQgJhiQw8kG8CvNYvsdD9thKc2Cy1w9MJkOPY+l3+Fkqs4WvmNmZ7YIXeVm7OMiOLWxKxsSj9Xk0WI827jEsPEaSx+DzHq9uiAeHLTHED4Eb4lRU6P9Ghd5GhelAkhGBZDb2gI09QMQer3DlEeG+AWkO2NrlPO+kAAAAAElFTkSuQmCC");
  }

  #signup-snippet:hover > .block-snippet-button,
  #brandLogo:hover ~ #snippetContainer .block-snippet-button {
    visibility: visible;
  }
{% endif %}
</style>
<div class="snippet" id="signup-snippet">
  {% if blockable %}
    <button class="block-snippet-button" title="{{ block_button_text|default('Remove this', true) }}"></button>
    <div id="block-snippet-overlay" class="block-snippet-overlay">
  {% endif %}
    <div class="display-container">
      {% if icon %}
        <img class="icon" src="{{ icon }}" />
      {% endif %}

      <p class="display-item">{{ text|safe }}</p>
    </div>
    <form id="form"></form>
    <div class="form-container">
      <div class="transition-container">
        <div class="transition-track">
          <div class="transition-item">
            <input class="email-input form-input" type="email" required="required" placeholder="{{ email_placeholder }}"></input>
            <button class="next-button"></button>
          </div>
          <div class="transition-item">
            <button class="back-button"></button>
            <input class="first-name-input form-input" type="text" required="required" placeholder="{{ firstname_placeholder }}"></input>
            <button class="next-button"></button>
          </div>
          <div class="transition-item">
            <button class="back-button"></button>
            <select class="country-input form-input" value="US" required="required">
              <option value="" selected="selected">
                {{ country_placeholder }}
              </option>

              <option value="AF">
                Afghanistan
              </option>

              <option value="AL">
                Albania
              </option>

              <option value="DZ">
                Algeria
              </option>

              <option value="AS">
                American Samoa
              </option>

              <option value="AD">
                Andorra
              </option>

              <option value="AO">
                Angola
              </option>

              <option value="AI">
                Anguilla
              </option>

              <option value="AG">
                Antigua and Barbuda
              </option>

              <option value="AR">
                Argentina
              </option>

              <option value="AM">
                Armenia
              </option>

              <option value="AW">
                Aruba
              </option>

              <option value="AU">
                Australia
              </option>

              <option value="AT">
                Austria
              </option>

              <option value="AZ">
                Azerbaijan
              </option>

              <option value="BS">
                Bahamas
              </option>

              <option value="BH">
                Bahrain
              </option>

              <option value="BD">
                Bangladesh
              </option>

              <option value="BB">
                Barbados
              </option>

              <option value="BY">
                Belarus
              </option>

              <option value="BE">
                Belgium
              </option>

              <option value="BZ">
                Belize
              </option>

              <option value="BJ">
                Benin
              </option>

              <option value="BM">
                Bermuda
              </option>

              <option value="BT">
                Bhutan
              </option>

              <option value="BO">
                Bolivia
              </option>

              <option value="BA">
                Bosnia and Herzegovina
              </option>

              <option value="BW">
                Botswana
              </option>

              <option value="BR">
                Brazil
              </option>

              <option value="VG">
                British Virgin Islands
              </option>

              <option value="IO">
                British Indian Ocean Territory
              </option>

              <option value="BN">
                Brunei
              </option>

              <option value="BG">
                Bulgaria
              </option>

              <option value="BF">
                Burkina Faso
              </option>

              <option value="BI">
                Burundi
              </option>

              <option value="KH">
                Cambodia
              </option>

              <option value="CM">
                Cameroon
              </option>

              <option value="CA">
                Canada
              </option>

              <option value="CV">
                Cape Verde
              </option>

              <option value="KY">
                Cayman Islands
              </option>

              <option value="CF">
                Central African Republic
              </option>

              <option value="TD">
                Chad
              </option>

              <option value="CL">
                Chile
              </option>

              <option value="CN">
                China
              </option>

              <option value="CX">
                Christmas Island
              </option>

              <option value="CO">
                Colombia
              </option>

              <option value="KM">
                Comoros Islands
              </option>

              <option value="CD">
                Congo, Democratic Republic of the
              </option>

              <option value="CG">
                Congo, Republic of the
              </option>

              <option value="CK">
                Cook Islands
              </option>

              <option value="CR">
                Costa Rica
              </option>

              <option value="CI">
                Cote D'ivoire
              </option>

              <option value="HR">
                Croatia
              </option>

              <option value="CU">
                Cuba
              </option>

              <option value="CY">
                Cyprus
              </option>

              <option value="CZ">
                Czech Republic
              </option>

              <option value="DK">
                Denmark
              </option>

              <option value="DJ">
                Djibouti
              </option>

              <option value="DM">
                Dominica
              </option>

              <option value="DO">
                Dominican Republic
              </option>

              <option value="TP">
                East Timor
              </option>

              <option value="EC">
                Ecuador
              </option>

              <option value="EG">
                Egypt
              </option>

              <option value="SV">
                El Salvador
              </option>

              <option value="GQ">
                Equatorial Guinea
              </option>

              <option value="ER">
                Eritrea
              </option>

              <option value="EE">
                Estonia
              </option>

              <option value="ET">
                Ethiopia
              </option>

              <option value="FK">
                Falkland Islands (Malvinas)
              </option>

              <option value="FO">
                Faroe Islands
              </option>

              <option value="FJ">
                Fiji
              </option>

              <option value="FI">
                Finland
              </option>

              <option value="FR">
                France
              </option>

              <option value="GF">
                French Guiana
              </option>

              <option value="PF">
                French Polynesia
              </option>

              <option value="TF">
                French Southern Territories
              </option>

              <option value="GA">
                Gabon
              </option>

              <option value="GM">
                Gambia
              </option>

              <option value="GE">
                Georgia
              </option>

              <option value="DE">
                Germany
              </option>

              <option value="GH">
                Ghana
              </option>

              <option value="GI">
                Gibraltar
              </option>

              <option value="GR">
                Greece
              </option>

              <option value="GL">
                Greenland
              </option>

              <option value="GD">
                Grenada
              </option>

              <option value="GP">
                Guadeloupe
              </option>

              <option value="GU">
                Guam
              </option>

              <option value="GT">
                Guatemala
              </option>

              <option value="GN">
                Guinea
              </option>

              <option value="GW">
                Guinea-Bissau
              </option>

              <option value="GY">
                Guyana
              </option>

              <option value="HT">
                Haiti
              </option>

              <option value="VA">
                Holy See (Vatican City State)
              </option>

              <option value="HN">
                Honduras
              </option>

              <option value="HK">
                Hong Kong
              </option>

              <option value="HU">
                Hungary
              </option>

              <option value="IS">
                Iceland
              </option>

              <option value="IN">
                India
              </option>

              <option value="ID">
                Indonesia
              </option>

              <option value="IR">
                Iran
              </option>

              <option value="IQ">
                Iraq
              </option>

              <option value="IE">
                Republic of Ireland
              </option>

              <option value="IL">
                Israel
              </option>

              <option value="IT">
                Italy
              </option>

              <option value="JM">
                Jamaica
              </option>

              <option value="JP">
                Japan
              </option>

              <option value="JO">
                Jordan
              </option>

              <option value="KZ">
                Kazakhstan
              </option>

              <option value="KE">
                Kenya
              </option>

              <option value="KI">
                Kiribati
              </option>

              <option value="KR">
                South Korea
              </option>

              <option value="XK">
                Kosovo
              </option>

              <option value="KW">
                Kuwait
              </option>

              <option value="KG">
                Kyrgyzstan
              </option>

              <option value="LA">
                Laos
              </option>

              <option value="LV">
                Latvia
              </option>

              <option value="LB">
                Lebanon
              </option>

              <option value="LS">
                Lesotho
              </option>

              <option value="LR">
                Liberia
              </option>

              <option value="LY">
                Libya
              </option>

              <option value="LI">
                Liechtenstein
              </option>

              <option value="LT">
                Lithuania
              </option>

              <option value="LU">
                Luxembourg
              </option>

              <option value="MO">
                Macau
              </option>

              <option value="MK">
                Macedonia
              </option>

              <option value="MG">
                Madagascar
              </option>

              <option value="MW">
                Malawi
              </option>

              <option value="MY">
                Malaysia
              </option>

              <option value="MV">
                Maldives
              </option>

              <option value="ML">
                Mali
              </option>

              <option value="MT">
                Malta
              </option>

              <option value="MH">
                Marshall Islands
              </option>

              <option value="MQ">
                Martinique
              </option>

              <option value="MR">
                Mauritania
              </option>

              <option value="MU">
                Mauritius
              </option>

              <option value="YT">
                Mayotte
              </option>

              <option value="MX">
                Mexico
              </option>

              <option value="FM">
                Micronesia
              </option>

              <option value="MD">
                Moldova, Republic of
              </option>

              <option value="MC">
                Monaco
              </option>

              <option value="MN">
                Mongolia
              </option>

              <option value="ME">
                Montenegro
              </option>

              <option value="MS">
                Montserrat
              </option>

              <option value="MA">
                Morocco
              </option>

              <option value="MZ">
                Mozambique
              </option>

              <option value="MM">
                Myanmar
              </option>

              <option value="NA">
                Namibia
              </option>

              <option value="NR">
                Nauru
              </option>

              <option value="NP">
                Nepal
              </option>

              <option value="NL">
                Netherlands
              </option>

              <option value="AN">
                Netherlands Antilles
              </option>

              <option value="NC">
                New Caledonia
              </option>

              <option value="NZ">
                New Zealand
              </option>

              <option value="NI">
                Nicaragua
              </option>

              <option value="NE">
                Niger
              </option>

              <option value="NG">
                Nigeria
              </option>

              <option value="NU">
                Niue
              </option>

              <option value="NF">
                Norfolk Island
              </option>

              <option value="MP">
                Northern Mariana Islands
              </option>

              <option value="NO">
                Norway
              </option>

              <option value="OM">
                Oman
              </option>

              <option value="PK">
                Pakistan
              </option>

              <option value="PW">
                Palau
              </option>

              <option value="PA">
                Panama
              </option>

              <option value="PG">
                Papua New Guinea
              </option>

              <option value="PY">
                Paraguay
              </option>

              <option value="PE">
                Peru
              </option>

              <option value="PH">
                Philippines
              </option>

              <option value="PN">
                Pitcairn Island
              </option>

              <option value="PL">
                Poland
              </option>

              <option value="PT">
                Portugal
              </option>

              <option value="PR">
                Puerto Rico
              </option>

              <option value="QA">
                Qatar
              </option>

              <option value="RE">
                Reunion
              </option>

              <option value="RO">
                Romania
              </option>

              <option value="RU">
                Russian Federation
              </option>

              <option value="RW">
                Rwanda
              </option>

              <option value="KN">
                Saint Kitts and Nevis
              </option>

              <option value="LC">
                Saint Lucia
              </option>

              <option value="VC">
                Saint Vincent and the Grenadines
              </option>

              <option value="WS">
                Samoa
              </option>

              <option value="SM">
                San Marino
              </option>

              <option value="ST">
                Sao Tome and Principe
              </option>

              <option value="SA">
                Saudi Arabia
              </option>

              <option value="SN">
                Senegal
              </option>

              <option value="RS">
                Serbia
              </option>

              <option value="SC">
                Seychelles
              </option>

              <option value="SL">
                Sierra Leone
              </option>

              <option value="SG">
                Singapore
              </option>

              <option value="SK">
                Slovakia
              </option>

              <option value="SI">
                Slovenia
              </option>

              <option value="SB">
                Solomon Islands
              </option>

              <option value="SO">
                Somalia
              </option>

              <option value="ZA">
                South Africa
              </option>

              <option value="SS">
                South Sudan
              </option>

              <option value="ES">
                Spain
              </option>

              <option value="LK">
                Sri Lanka
              </option>

              <option value="SH">
                St. Helena
              </option>

              <option value="PM">
                St. Pierre and Miquelon
              </option>

              <option value="SD">
                Sudan
              </option>

              <option value="SR">
                Suriname
              </option>

              <option value="SY">
                Syria
              </option>

              <option value="SZ">
                Swaziland
              </option>

              <option value="SE">
                Sweden
              </option>

              <option value="CH">
                Switzerland
              </option>

              <option value="TW">
                Taiwan
              </option>

              <option value="TJ">
                Tajikistan
              </option>

              <option value="TZ">
                Tanzania
              </option>

              <option value="TH">
                Thailand
              </option>

              <option value="TG">
                Togo
              </option>

              <option value="TK">
                Tokelau
              </option>

              <option value="TO">
                Tonga
              </option>

              <option value="TT">
                Trinidad and Tobago
              </option>

              <option value="TN">
                Tunisia
              </option>

              <option value="TR">
                Turkey
              </option>

              <option value="TM">
                Turkmenistan
              </option>

              <option value="TC">
                Turks and Caicos Islands
              </option>

              <option value="TV">
                Tuvalu
              </option>

              <option value="UG">
                Uganda
              </option>

              <option value="UA">
                Ukraine
              </option>

              <option value="AE">
                United Arab Emirates
              </option>

              <option value="GB">
                United Kingdom
              </option>

              <option value="US">
                United States
              </option>

              <option value="UY">
                Uruguay
              </option>

              <option value="UZ">
                Uzbekistan
              </option>

              <option value="VU">
                Vanuatu
              </option>

              <option value="VE">
                Venezuela
              </option>

              <option value="VN">
                Viet Nam
              </option>

              <option value="VI">
                Virgin Islands (U.S.)
              </option>

              <option value="WF">
                Wallis and Futuna Islands
              </option>

              <option value="EH">
                Western Sahara
              </option>

              <option value="YE">
                Yemen
              </option>

              <option value="ZM">
                Zambia
              </option>

              <option value="ZW">
                Zimbabwe
              </option>
            </select>
            <button class="next-button"></button>
          </div>
          <div class="transition-item">
            <div class="display-container">
              <div class="display-item">
                <button class="final-back-button back-button"></button>
              </div>
              <p class="privacy-policy display-item">{{ privacy_policy|safe }}</p>
              <div class="display-item">
                <button form="form" type="submit" class="display-item submit-button"></button>
              </div>
            </div>
          </div>
        </div>
        <div class="notes-container">
          * Required fields
        </div>
      </div>
    </div>
    <p class="basket-error hidden">
      {{ basket_error }}
    </p>
    <p class="success-message hidden">
      {{ success_message }}
    </p>
  {% if blockable %}
    </div>
  {% endif %}
</div>
<script type="text/javascript">
  //<![CDATA[
  (function() {
    var snippet = document.getElementById("signup-snippet");

    snippet.addEventListener("show_snippet", function () {
      setTimeout( function() {

        var button = snippet.querySelector(".submit-button");
        var form = snippet.querySelector("#form");
        var mainContainer = snippet.querySelector(".form-container");
        var emailInput = snippet.querySelector(".email-input");
        var countryInput = snippet.querySelector(".country-input");
        var firstNameInput = snippet.querySelector(".first-name-input");
        var basketError = snippet.querySelector(".basket-error");
        var successMessage = snippet.querySelector(".success-message");

        document.querySelector("#form").addEventListener("submit", function(e) {
          e.preventDefault();
          if (button.classList.contains("loading")) {
            return;
          }
          changeState(000);
          sendEmailToBasket();
        });

        function sendEmailToBasket() {
          var lang = "{{ locale|default('en-US', true) }}";
          var url = "{{ basket_host|default('https://basket.mozilla.org', true) }}" + "/news/subscribe/";
          var newsletters = "{{ newsletters }}";
          var source_url = "https://snippets.mozilla.com/show/{{ snippet_id }}";
          source_url = encodeURIComponent(source_url);
          var email = emailInput.value;
          var country = countryInput.value;
          var firstName = firstNameInput.value;
          var params = "newsletters=" + newsletters + "&source_url=" + source_url + "&lang=" + lang + "&email=" + email + "&trigger_welcome=N";
          if (country) {
            params += "&country=" + country;
          }
          if (firstName) {
            params += "&first_name=" + firstName;
          }
          var request = new XMLHttpRequest();
          request.onreadystatechange = function() {
            if (request.readyState == 4) {
              changeState(request.status);
            }
          }
          request.open("POST", url);
          request.send(params);
        }

        function changeState(status) {
          if (status === 200) {
            button.classList.remove("loading");
            basketError.classList.add("hidden");
            successMessage.classList.remove("hidden");
            mainContainer.classList.add("hidden");
            sendMetric("signup-success");
          } else if (status === 000) {
            //loading
            button.classList.add("loading");
            basketError.classList.add("hidden");
            successMessage.classList.add("hidden");
          } else {
            basketError.classList.remove("hidden");
            button.classList.remove("loading");
            successMessage.classList.add("hidden");
            sendMetric("signup-error");
          }
        }

        var nextButtons = snippet.querySelectorAll(".next-button");
        var backButtons = snippet.querySelectorAll(".back-button");
        var transitionTrack = snippet.querySelector(".transition-track");
        var trackItemWidth = 420;
        var currentIndex = 0;

        emailInput.addEventListener("focus", function() {
          emailInput.classList.remove("invalid");
        });
        firstNameInput.addEventListener("focus", function() {
          firstNameInput.classList.remove("invalid");
        });
        countryInput.addEventListener("focus", function() {
          countryInput.classList.remove("invalid");
        });
        function onNext(e) {
          if (currentIndex >= 3) {
            return;
          }
          if (currentIndex === 0) {
            if (!emailInput.checkValidity()) {
              emailInput.classList.add("invalid");
              return;
            }
          }
          if (currentIndex === 1) {
            if (!firstNameInput.checkValidity()) {
              firstNameInput.classList.add("invalid");
              return;
            }
          }
          if (currentIndex === 2) {
            if (!countryInput.checkValidity()) {
              countryInput.classList.add("invalid");
              return;
            }
          }
          currentIndex++;
          transitionTrack.style.transform = "translate(-" + ( currentIndex * trackItemWidth ) + "px, 0px)";
        }
        function onBack(e) {
          if (currentIndex <= 0) {
            return;
          }
          currentIndex--;
          transitionTrack.style.transform = "translate(-" + ( currentIndex * trackItemWidth ) + "px, 0px)";
        }

        for (var nextIndex = 0; nextIndex < nextButtons.length; nextIndex++) {
          nextButtons[nextIndex].addEventListener("click", onNext);
        }

        for (var backIndex = 0; backIndex < backButtons.length; backIndex++) {
          backButtons[backIndex].addEventListener("click", onBack);
        }

        var elHighlighted = snippet.querySelector("em");
        // Fade in highlight on text
        setTimeout(function() {
          if (elHighlighted) {
            elHighlighted.classList.add("active");
          }
        }, 1000);
       });
     });
 })();
 //]]>
</script>
